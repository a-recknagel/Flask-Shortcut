
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>flask_shortcut package &#8212; Flask-Shortcut 0.3.2 documentation</title>
    <link rel="stylesheet" href="../_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/shortcut-logo-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Flask-Shortcut documentation" href="../index.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = '../';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Flask-Shortcut documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Flask-Shortcut 0.3.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-flask_shortcut">
<span id="flask-shortcut-package"></span><h1>flask_shortcut package<a class="headerlink" href="#module-flask_shortcut" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="flask_shortcut.Shortcut">
<em class="property">class </em><code class="sig-prename descclassname">flask_shortcut.</code><code class="sig-name descname">Shortcut</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span><span class="p">:</span> <span class="n">flask.app.Flask</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flask_shortcut/shortcut.html#Shortcut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.Shortcut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object that handles the shortcut rerouting.</p>
<p>Calling an instance of this class on a function gives that function the
option to behave differently in non-production environments. The way in
which the behavior may differ is constrained in two possible ways.</p>
<p>In the first one, only the arguments for a response are passed to the
shortcut definition, meaning that the original function is effectively
disabled and the route will instead just return the shortcut’s arguments
as its only response.</p>
<p>In the second one, any number of shortcut response arguments are mapped
to condition-keys. The condition is a string that is used to assert a
substructure in requests that reach that route, and will only apply its
respective shortcut-response iff that substructure can be matched.</p>
<p>If none of the condition can be satisfied, the route will run its
original logic.</p>
<p>There are two different ways to register shortcuts, one using decorators
on the target functions before the are decorated as routes, and the
other by running the a single wire call after all routes were added.</p>
<p class="rubric">Example</p>
<ul class="simple">
<li><p>Basic app setup:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short</span> <span class="o">=</span> <span class="n">Shortcut</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>With shortcut decorator:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/my_route&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="gp">... </span><span class="nd">@short</span><span class="o">.</span><span class="n">cut</span><span class="p">((</span><span class="s1">&#39;short_ok&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;ok&#39;</span><span class="p">,</span> <span class="mi">200</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Equivalent post route-definition wiring:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/my_route&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;ok&#39;</span><span class="p">,</span> <span class="mi">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short</span><span class="o">.</span><span class="n">wire</span><span class="p">({</span><span class="s1">&#39;/my_route&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;short_ok&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)})</span>
</pre></div>
</div>
<dl class="py method">
<dt id="flask_shortcut.Shortcut.cut">
<code class="sig-name descname">cut</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mapping</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Tuple<span class="p">[</span>Any<span class="p">, </span>int<span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span>str<span class="p">, </span>Tuple<span class="p">[</span>Any<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flask_shortcut/shortcut.html#Shortcut.cut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.Shortcut.cut" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns route wrappers.</p>
<p>Depending on the input argument, a different wrapper will be returned.
This function can only run in applications that are not listed in the
<cite>_EXCLUDE</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mapping</strong> – The mapping that decides which types of shortcuts can be
offered under which type of condition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="flask_shortcut.Shortcut.wire">
<code class="sig-name descname">wire</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shortcuts</span><span class="o">=</span><span class="default_value">typing.Dict[str, typing.Union[typing.Tuple[typing.Any, int], typing.Dict[str, typing.Tuple[typing.Any, int]]]]</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flask_shortcut/shortcut.html#Shortcut.wire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.Shortcut.wire" title="Permalink to this definition">¶</a></dt>
<dd><p>Manual wiring function.</p>
<p>If you don’t want to have the shortcut definitions in your routing
file for some reason (e.g. there are lots of shortcuts and it would
make the whole thing hard to read), you can use this function at
some point after all routes were registered, and before the server
is started.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shortcuts</strong> – A dictionary that maps routes to the mappings that
would have been used as arguments in the shortcut decorator.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-flask_shortcut.shortcut">
<span id="flask-shortcut-shortcut-module"></span><h2>flask_shortcut.shortcut module<a class="headerlink" href="#module-flask_shortcut.shortcut" title="Permalink to this headline">¶</a></h2>
<dl class="py attribute">
<dt id="flask_shortcut.shortcut.RESPONSE_ARGS">
<code class="sig-prename descclassname">flask_shortcut.shortcut.</code><code class="sig-name descname">RESPONSE_ARGS</code><a class="headerlink" href="#flask_shortcut.shortcut.RESPONSE_ARGS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Tuple</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="flask_shortcut.shortcut.Shortcut">
<em class="property">class </em><code class="sig-prename descclassname">flask_shortcut.shortcut.</code><code class="sig-name descname">Shortcut</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span><span class="p">:</span> <span class="n">flask.app.Flask</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flask_shortcut/shortcut.html#Shortcut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.shortcut.Shortcut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object that handles the shortcut rerouting.</p>
<p>Calling an instance of this class on a function gives that function the
option to behave differently in non-production environments. The way in
which the behavior may differ is constrained in two possible ways.</p>
<p>In the first one, only the arguments for a response are passed to the
shortcut definition, meaning that the original function is effectively
disabled and the route will instead just return the shortcut’s arguments
as its only response.</p>
<p>In the second one, any number of shortcut response arguments are mapped
to condition-keys. The condition is a string that is used to assert a
substructure in requests that reach that route, and will only apply its
respective shortcut-response iff that substructure can be matched.</p>
<p>If none of the condition can be satisfied, the route will run its
original logic.</p>
<p>There are two different ways to register shortcuts, one using decorators
on the target functions before the are decorated as routes, and the
other by running the a single wire call after all routes were added.</p>
<p class="rubric">Example</p>
<ul class="simple">
<li><p>Basic app setup:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short</span> <span class="o">=</span> <span class="n">Shortcut</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>With shortcut decorator:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/my_route&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="gp">... </span><span class="nd">@short</span><span class="o">.</span><span class="n">cut</span><span class="p">((</span><span class="s1">&#39;short_ok&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;ok&#39;</span><span class="p">,</span> <span class="mi">200</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Equivalent post route-definition wiring:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/my_route&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;ok&#39;</span><span class="p">,</span> <span class="mi">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short</span><span class="o">.</span><span class="n">wire</span><span class="p">({</span><span class="s1">&#39;/my_route&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;short_ok&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)})</span>
</pre></div>
</div>
<dl class="py method">
<dt id="flask_shortcut.shortcut.Shortcut.cut">
<code class="sig-name descname">cut</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mapping</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Tuple<span class="p">[</span>Any<span class="p">, </span>int<span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span>str<span class="p">, </span>Tuple<span class="p">[</span>Any<span class="p">, </span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flask_shortcut/shortcut.html#Shortcut.cut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.shortcut.Shortcut.cut" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns route wrappers.</p>
<p>Depending on the input argument, a different wrapper will be returned.
This function can only run in applications that are not listed in the
<cite>_EXCLUDE</cite> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mapping</strong> – The mapping that decides which types of shortcuts can be
offered under which type of condition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="flask_shortcut.shortcut.Shortcut.wire">
<code class="sig-name descname">wire</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shortcuts</span><span class="o">=</span><span class="default_value">typing.Dict[str, typing.Union[typing.Tuple[typing.Any, int], typing.Dict[str, typing.Tuple[typing.Any, int]]]]</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flask_shortcut/shortcut.html#Shortcut.wire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.shortcut.Shortcut.wire" title="Permalink to this definition">¶</a></dt>
<dd><p>Manual wiring function.</p>
<p>If you don’t want to have the shortcut definitions in your routing
file for some reason (e.g. there are lots of shortcuts and it would
make the whole thing hard to read), you can use this function at
some point after all routes were registered, and before the server
is started.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shortcuts</strong> – A dictionary that maps routes to the mappings that
would have been used as arguments in the shortcut decorator.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-flask_shortcut.util">
<span id="flask-shortcut-util-module"></span><h2>flask_shortcut.util module<a class="headerlink" href="#module-flask_shortcut.util" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="flask_shortcut.util.diff">
<code class="sig-prename descclassname">flask_shortcut.util.</code><code class="sig-name descname">diff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">sub</span></em>, <em class="sig-param"><span class="n">path_</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/flask_shortcut/util.html#diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.util.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple recursive asymmetric diff function on json-like data structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – The data container in which we want to find a subtree.</p></li>
<li><p><strong>sub</strong> – The subtree that needs to be matched.</p></li>
<li><p><strong>path_</strong> – A private object used to produce meaningful error messages.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the subtree could be cleanly matched, else False.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – If the parse paths don’t match, e.g. the target is a list
    at a level where the subtree expected it to be a dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="flask_shortcut.util.get_request_data">
<code class="sig-prename descclassname">flask_shortcut.util.</code><code class="sig-name descname">get_request_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span><span class="p">:</span> <span class="n">flask.wrappers.Request</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="reference internal" href="../_modules/flask_shortcut/util.html#get_request_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flask_shortcut.util.get_request_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Request data fetcher.</p>
<p>This function inspects the mimetype in order to figure out how the data
can be represented in a standard python-dictionary form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> – The request whose body is going to be parsed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The data in a form that sticks as close a parsed json object as possible, since</dt><dd><p>that is the format in which the mappings expect to be passed by.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – In case of unexpected request data formats.</p></li>
<li><p><strong>Exception</strong> – In case of junk data, hard to list what each parser
    decides is best to raise.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/shortcut-logo-narrow.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">flask_shortcut package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-flask_shortcut.shortcut">flask_shortcut.shortcut module</a></li>
<li><a class="reference internal" href="#module-flask_shortcut.util">flask_shortcut.util module</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
          <li>Previous: <a href="../index.html" title="previous chapter">Flask-Shortcut documentation</a>
          
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Arne.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.1.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>